# 概述
## 背景
* FR问题，需要在给出完整参考图像的前提下，给出目标图像的质量评分
* HSV非常善于从图像中提取结构化的信息，因此需要设计一种算法，从图像结构特征的层面对齐进行质量评估
## 问题
* MSE关注错误的可见性，使用错误信号的明显程度计算其对应的权值，对所有的错误信号加权求和得到图像失真的程度，MES计算过程中没有充分结合HVS的研究结果，存在如下的问题：
	* 对图像质量的定义不能仅仅依赖错误的明显程度，人类可能对某些相对而言不够明显的错误有更强的感知
	* 超阈值问题：在对错误信号进行标准化的步骤，由于采用刚刚肉眼可见的阈值对错误信号进行标准化，没有足够的研究证明模型有能力处理明显超出阈值范围的失真。
	* 自然图像可能具有非常复杂的结构信息，包含大量的pattern，简单的模拟不能体现出复杂结构信息的图像质量。
	* MSE认为所有的错误信号之间是相互独立的，彼此不存在联系，而现实情况中图像各个频道的错误信号往往具有相关性。
* UQI算法提出的模型缺乏普遍性，在reference image与distorted image 的标准差或者均值之和接近0时可能具有不稳定的表现。
## 贡献
* 提出了更具有泛用性的基于图像结构信息的IQA算法SSIM，在JPEG图像数据集上，相较于以往的方法在预测精度、稳定性、一致性上均有提升
* 设计了从图像中提取、比较结构信息、光照信息、对比度信息的方法，并设计了对应的评价函数和图像预处理流程
# 具体工作
* frame work
![[Pasted image 20221101200217.png]]
* 具体模块
	* 光照与对比度信息的测量：对原始信号，使用信号的均值表示亮度信息，使用标准差表示对比度信息，去除亮度信息，并使用对比度信息进行标准化之后，保留原始信号的结构信息并进行比较。
	* 比较函数的设计：比较函数必须对称、具有唯一最大值1，基于以上原则分别设计光照、对比度与结构化信息的比较函数：
		* ![[Pasted image 20221101200843.png]]，R代表相对于标准信号的改变，因此有![[Pasted image 20221101201025.png]]，上式也可以写作![[Pasted image 20221101201042.png]]
		* ![[Pasted image 20221101201113.png]]
		* ![[Pasted image 20221101201224.png]]
		* C1与C2、C3分别等于图像像素范围与一个固定常数的积
	* 综合以上比较，![[Pasted image 20221101201317.png]]，令C3=0.5*C2，index均为1，![[Pasted image 20221101201344.png]]
	* 实际应用中，采用二维高斯窗将图像分为多个观察窗口，对于每个窗口中的信号独立计算SSIM，求出SSIM的均值用作整个图片的IQA结果![[Pasted image 20221101201508.png]]
# 实验结果
## 定性结果：
（1）
	对于相同图片，采用JPEG压缩算法后，在保持MSE相同的情况下，使用以下分别按照MSSIM梯度上升与下降对图片进行了迭代
	![[Pasted image 20221101202424.png]]
	![[Pasted image 20221101202433.png]]
	采用MSSIM梯度上升方向进行迭代的图片保存了更完整的结构信息
	![[Pasted image 20221101202452.png]]
（2）分别使用MSSIM maps和absolute error maps的数值代表图像像素亮度，还原出以下的图片，可以看到采用MSSIM maps数值代表亮度的图片明显具有更加完整的结构信息
SSIM：0-1，1表示最为接近，可视化为白色，白色部分可认为是SSIM认为结构存在相似的部分
![[Pasted image 20221101202755.png]]
## 定量结果：
采用JPEG2000与JPEG压缩图片数据集，由收集志愿者主观的图像质量评分，与IQA算法评分比较，绘制出以下的曲线，图中**MOS代表主观评分**，横轴代表IQA算法给出的数值。每个点代表一张图片，图中曲线是逻辑回归的结果，代表主观  g评分与IQA算法评分的相关函数
![[Pasted image 20221101203451.png]]
依据上图计算以下量化指标，发现MSSIM在预测准确度、一致性、稳定性上优于其他IQA算法。以下指标也是评价IQA的常用指标
![[Pasted image 20221101203541.png]]
# 启示
* 学习了IQA领域的几种经典算法，了解了不涉及感知层面的IQA相关方法和思想
* 本算法的提出距今已经具有比较长的时间，其具体实现算法可能已经过时，不过其提出的关注图像结构信息的思想仍然具有借鉴意义，对于真实图像而言，其必然具有复杂的模型特征，在设计IQA算法的过程中，需要考虑到对结构信息的保留是否完整
* 设计IQA算法需要多结合HVS领域，关注对于人类视觉感知相关的研究，对于不同的结构信息人类可能具有不同的感知强度，在算法设计的过程中需要予以考虑
* 此类结构化信息的方法不仅可以应用在IQA领域，其余可能具有结构化信息的信号（例如录音）也可以考虑采用这样的思想设计类似的评估算法。